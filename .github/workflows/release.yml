name: ðŸš€ Release

on:
  release:
    types: [published]

jobs:
  datamodel-dumps-documentation:
    name: Call Datamodel Create Dumps Workflow
    uses: ./.github/workflows/datamodel-dumps-documentation.yml
    with:
      release_tag: ${{ github.event.release.tag_name }}

  project-translations:
    name: Call Project Translations Workflow
    uses: ./.github/workflows/project-translation-package.yml
    with:
      release_tag: ${{ github.event.release.tag_name }}
    secrets: inherit

  deploy-demo-db:
    name: Deploy Demo Database
    uses: ./.github/workflows/deploy-demo-db.yml
    secrets: inherit
    with:
      db_name: signalo_stable

  rebuild-website:
    uses: ./.github/workflows/website.yml
    secrets: inherit
    needs: datamodel-dumps-documentation
